"use strict";(self.webpackChunkcbit_management_information_system=self.webpackChunkcbit_management_information_system||[]).push([[3195],{3497:function(e,t,a){var r=a(7313),o=a(9860),n=a(3428),s=a(4641),i=a(1113),l=a(9536),c=a(3405),d=a(6417);const h={"& .MuiCardHeader-action":{mr:0}},p=(0,r.forwardRef)(((e,t)=>{let{border:a=!0,boxShadow:r,children:p,content:u=!0,contentClass:m="",contentSX:x={},darkTitle:y,secondary:v,shadow:g,sx:Z={},title:b,...f}=e;const j=(0,o.Z)();return(0,d.jsxs)(n.Z,{ref:t,...f,sx:{border:a?"1px solid":"none",borderColor:j.palette.primary[200]+25,":hover":{boxShadow:r?g||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},...Z},children:[b&&(0,d.jsx)(s.Z,{sx:h,title:y?(0,d.jsx)(i.Z,{variant:"h3",children:b}):b,action:v}),b&&(0,d.jsx)(l.Z,{}),u&&(0,d.jsx)(c.Z,{sx:x,className:m,children:p}),!u&&p]})}));t.Z=p},3195:function(e,t,a){a.r(t);var r=a(7313),o=a(5662),n=a(501),s=a(1629),i=a(6835),l=a(3477),c=a(3467),d=a(4076),h=a(7478),p=a(7649),u=a(3497),m=a(6417);t.default=e=>{let{block:t,department:a}=e;const[x,y]=(0,r.useState)([]),[v,g]=(0,r.useState)({}),[Z,b]=(0,r.useState)(0),[f,j]=(0,r.useState)(10),[k,w]=(0,r.useState)({}),[C,P]=(0,r.useState)({});(0,r.useEffect)((()=>{(async()=>{try{const e=await o.Z.get("http://localhost:8000/api/block/categories/L/IT");y(e.data)}catch(e){console.error(`Error fetching categories for department ${a} in block ${t}:`,e)}})()}),[t,a]),(0,r.useEffect)((()=>{(async()=>{x.forEach((async e=>{try{const t=await o.Z.get(`http://localhost:8000/api/block/category/data/L/IT/${e}`);g((a=>({...a,[e]:t.data})))}catch(r){console.error(`Error fetching ${e} data for department ${a} in block ${t}:`,r)}}))})()}),[t,a,x]);const S=(e,t)=>{b(t)},T=e=>{j(+e.target.value),b(0)};return(0,m.jsx)(u.Z,{title:"L Block - IT Dept Details",children:(0,m.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:x.map(((e,t)=>{var a,r;return(0,m.jsxs)(n.Z,{style:{width:"100%",overflow:"hidden",marginTop:"20px"},children:[(0,m.jsx)(s.Z,{style:{maxHeight:"440px",overflowY:"auto"},children:(0,m.jsxs)(i.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(d.Z,{children:(0,m.jsxs)(h.Z,{colSpan:Object.keys((null===(a=v[e])||void 0===a?void 0:a[0])||{}).length+2,style:{position:"sticky",top:0,backgroundColor:"white"},children:["Category: ",e]})}),(0,m.jsx)(d.Z,{children:Object.keys((null===(r=v[e])||void 0===r?void 0:r[0])||{}).map(((e,t)=>"_id"!==e&&(0,m.jsx)(h.Z,{children:e},t)))})]}),(0,m.jsx)(c.Z,{children:v[e]&&v[e].map(((e,t)=>(0,m.jsx)(d.Z,{children:Object.keys(e).map(((t,a)=>{var r;return"_id"!==t&&(0,m.jsx)(h.Z,{children:C[e._id]?(0,m.jsx)("input",{type:"text",name:t,value:(null===(r=k[e._id])||void 0===r?void 0:r[t])||e[t],onChange:t=>((e,t)=>{const{name:a,value:r}=e.target;w((e=>({...e,[t]:{...e[t],[a]:r}})))})(t,e._id)}):e[t]},a)}))},t)))})]})}),(0,m.jsx)(p.Z,{style:{marginTop:"20px"},rowsPerPageOptions:[10,25,100],component:"div",count:v[e]?v[e].length:0,rowsPerPage:f,page:Z,onPageChange:S,onRowsPerPageChange:T})]},t)}))})})}},4641:function(e,t,a){a.d(t,{Z:function(){return f}});var r=a(3366),o=a(7462),n=a(7313),s=a(4146),i=a(1921),l=a(1113),c=a(7342),d=a(7592),h=a(7430),p=a(2298);function u(e){return(0,p.ZP)("MuiCardHeader",e)}var m=(0,h.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),x=a(6417);const y=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({[`& .${m.title}`]:t.title,[`& .${m.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Z=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var f=n.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiCardHeader"}),{action:n,avatar:d,className:h,component:p="div",disableTypography:m=!1,subheader:f,subheaderTypographyProps:j,title:k,titleTypographyProps:w}=a,C=(0,r.Z)(a,y),P=(0,o.Z)({},a,{component:p,disableTypography:m}),S=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u,t)})(P);let T=k;null==T||T.type===l.Z||m||(T=(0,x.jsx)(l.Z,(0,o.Z)({variant:d?"body2":"h5",className:S.title,component:"span",display:"block"},w,{children:T})));let _=f;return null==_||_.type===l.Z||m||(_=(0,x.jsx)(l.Z,(0,o.Z)({variant:d?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},j,{children:_}))),(0,x.jsxs)(v,(0,o.Z)({className:(0,s.Z)(S.root,h),as:p,ref:t,ownerState:P},C,{children:[d&&(0,x.jsx)(g,{className:S.avatar,ownerState:P,children:d}),(0,x.jsxs)(b,{className:S.content,ownerState:P,children:[T,_]}),n&&(0,x.jsx)(Z,{className:S.action,ownerState:P,children:n})]}))}))}}]);